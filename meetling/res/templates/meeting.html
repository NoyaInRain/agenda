{% extends 'page.html' %}

{% block page-attrs %}
    is="meetling-meeting-page"
    meeting="{{ json_encode(meeting.json()) }}"
{% end %}

{% block page-content %}
    <h1>{{ meeting.title }}</h1>
    <p>{{ meeting.description or '' }}</p>

    <section>
        <h1>Agenda</h1>
        <ul class="meetling-meeting-items">
            {% for item in meeting.items.values() %}
                <li is="meetling-agenda-item" item="{{ json_encode(item.json()) }}"></li>
            {% end %}
            <li class="meetling-meeting-create-agenda-item">
                <button class="action">
                    <i class="fa fa-plus-circle"></i> Propose an agenda item
                </button>
            </li>
        </ul>
    </section>

    <section class="meetling-meeting-actions">
        <h1>Actions</h1>
        <p class="actions">
            <a class="action" href="/meetings/{{ meeting.id }}/edit">
                <i class="fa fa-pencil"></i> Edit
            </a>
        </p>
    <section>

    <div class="templates">
        <div class="meetling-agenda-item-template">
            <section>
                <header>
                    <h1></h1>
                </header>
                <div class="meetling-agenda-item-content">
                    <p class="meetling-agenda-item-description"></p>
                    <p class="actions">
                        <button class="action action-subtle meetling-agenda-item-edit">
                            <i class="fa fa-pencil"></i> Edit
                        </button>
                    </p>
                </div>
            </section>
        </div>

        <div class="meetling-agenda-item-editor-template">
            <section>
                <h1>New Agenda Item</h1>
                <form>
                    <label>
                        <input name="title"></input>
                        <small>Title</small>
                    </label>
                    <label>
                        <textarea name="description"></textarea>
                        <small>Description (optional)</small>
                    </label>
                    <p class="actions">
                        <button class="action"><i class="fa fa-check-circle"></i> Done</button>
                        <button class="action action-cancel">Cancel</button>
                    </p>
                </form>
            </section>
        </div>
    </div>
{% end %}
